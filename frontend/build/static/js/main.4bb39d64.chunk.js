(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{107:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(26),c=a.n(r),s=a(5),o=(a(79),a(80),a(40)),i=a(67),l=a(68),d="LOGIN_SUCCESS",j="LOGIN_FAIL",u="REGISTER_SUCCESS",b="REGISTER_FAIL",h="LOGOUT",p="USER_PROFILE_SUCCESS",O="USER_PROFILE_FAIL",x="USER_PROFILE_RESET",m="USER_UPDATE_PROFILE_SUCCESS",g="USER_UPDATE_PROFILE_FAIL",f="USER_UPDATE_PROFILE_RESET",v="USER_CHANGE_PASSWORD_SUCCESS",y="USER_CHANGE_PASSWORD_FAIL",S="USER_BACKGROUND_SUCCESS",C="USER_BACKGROUND_FAIL",I="USER_BACKGROUND_RESET",N="USER_UPDATE_BACKGROUND_SUCCESS",E="USER_UPDATE_BACKGROUND_FAIL",k="USER_UPDATE_BACKGROUND_RESET",L="COLLEGE_LIST_SUCCESS",w="COLLEGE_LIST_FAIL",A="COLLEGE_DETAILS_SUCCESS",_="COLLEGE_DETAILS_FAIL",T="COLLEGE_BY_NAME_SUCCESS",P="COLLEGE_BY_NAME_FAIL",G="ADMISSION_CREATE_SUCCESS",D="ADMISSION_CREATE_FAIL",U="ADMISSION_CREATE_RESET",R="ADMISSION_UPDATE_SUCCESS",F="ADMISSION_UPDATE_FAIL",B="ADMISSION_UPDATE_RESET",M="ADMISSION_DELETE_SUCCESS",q="ADMISSION_DELETE_FAIL",Y="ADMISSION_ALL_SUCCESS",z="ADMISSION_ALL_FAIL",V="ADMISSION_DETAIL_SUCCESS",W="ADMISSION_DETAIL_FAIL",K="ADMISSION_DETAIL_RESET",H="MY_ADMISSIONS_SUCCESS",J="MY_ADMISSIONS_FAIL",$="MY_BOOKS_RESET",Q="ADMISSION_BACKGROUND_SUCCESS",X="ADMISSION_BACKGROUND_FAIL",Z="ADMISSION_COMMENT_SUCCESS",ee="ADMISSION_COMMENT_FAIL",te="ADMISSION_COMMENT_RESET",ae="ADMISSION_PERCENTAGE_SUCCESS",ne="ADMISSION_PERCENTAGE_FAIL",re="ADMISSION_PERCENTAGE_RESET",ce="POST_CREATE_SUCCESS",se="POST_CREATE_FAIL",oe="POST_CREATE_RESET",ie="POST_UPDATE_SUCCESS",le="POST_UPDATE_FAIL",de="POST_UPDATE_RESET",je="POST_DELETE_SUCCESS",ue="POST_DELETE_FAIL",be="POST_ALL_SUCCESS",he="POST_ALL_FAIL",pe="POST_DETAIL_SUCCESS",Oe="POST_DETAIL_FAIL",xe="POST_DETAIL_RESET",me="MY_POSTS_SUCCESS",ge="MY_POSTS_FAIL",fe="MY_BOOKS_RESET",ve="POST_COMMENT_SUCCESS",ye="POST_COMMENT_FAIL",Se="POST_COMMENT_RESET",Ce=Object(o.combineReducers)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{userInfo:t.payload};case j:return{error:t.payload};case h:return{};default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return{userInfo:t.payload};case b:return{error:t.payload};default:return e}},userProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return{user:t.payload};case O:return{error:t.payload};case x:return{user:{}};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return{success:!0,userInfo:t.payload};case g:return{error:t.payload};case f:return{};default:return e}},userChangePassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return{success:!0,userInfo:t.payload};case y:return{error:t.payload};default:return e}},userBackground:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{user:t.payload};case C:return{error:t.payload};case I:return{user:{}};default:return e}},userUpdateBackground:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{success:!0,userInfo:t.payload};case E:return{error:t.payload};case k:return{};default:return e}},collegeList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{colleges:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return{colleges:t.payload};case w:return{error:t.payload};default:return e}},collegeDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{college:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return{college:t.payload};case _:return{error:t.payload};default:return e}},collegeByName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{college:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return{college:t.payload};case P:return{error:t.payload};default:return e}},admissionCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return{success:!0,admission:t.payload};case D:return{error:t.payload};case U:return{};default:return e}},admissionUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{admission:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return{success:!0};case F:return{error:t.payload};case B:return{admission:{}};default:return e}},admissionDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return{success:!0};case q:return{error:t.payload};default:return e}},admissionAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{admissions:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return{admissions:t.payload.admissions,page:t.payload.page,pages:t.payload.pages};case z:return{error:t.payload};default:return e}},admissionDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{admission:{comments:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return{admission:t.payload};case W:return{error:t.payload};case K:return{admission:{comments:[]}};default:return e}},myAdmissions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{admissions:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return{admissions:t.payload};case J:return{error:t.payload};case $:return{admissions:[]};default:return e}},admissionBackground:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return{user:t.payload};case X:return{error:t.payload};default:return e}},admissionComment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return{success:!0};case ee:return{error:t.payload};case te:return{};default:return e}},admissionPercentage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{percentage:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return{percentage:t.payload};case ne:return{error:t.payload};case re:return{percentage:{}};default:return e}},postCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return{success:!0,post:t.payload};case se:return{error:t.payload};case oe:return{};default:return e}},postUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{post:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return{success:!0};case le:return{error:t.payload};case de:return{post:{}};default:return e}},postDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return{success:!0};case ue:return{error:t.payload};default:return e}},postAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{posts:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return{posts:t.payload.posts,page:t.payload.page,pages:t.payload.pages};case he:return{error:t.payload};default:return e}},postDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{post:{comments:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return{post:t.payload};case Oe:return{error:t.payload};case xe:return{post:{comments:[]}};default:return e}},myPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{posts:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return{posts:t.payload};case ge:return{error:t.payload};case fe:return{posts:[]};default:return e}},postComment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:return{success:!0};case ye:return{error:t.payload};case Se:return{};default:return e}}}),Ie={login:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},Ne=[i.a],Ee=Object(o.createStore)(Ce,Ie,Object(l.composeWithDevTools)(o.applyMiddleware.apply(void 0,Ne))),ke=a(112),Le=a(10),we=a(14),Ae=a(119),_e=a(121),Te=a(116),Pe=a(19),Ge=a(9),De=a.n(Ge),Ue=a(11),Re=a(12),Fe=a.n(Re),Be=function(){return function(){var e=Object(Ue.a)(De.a.mark((function e(t){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("userInfo"),t({type:h}),t({type:x}),t({type:I}),t({type:$}),t({type:fe}),document.location.href="/login";case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Me=function(){return function(){var e=Object(Ue.a)(De.a.mark((function e(t,a){var n,r,c,s,o;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a(),r=n.login.userInfo,c={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=5,Fe.a.get("/api/users/background",c);case 5:s=e.sent,o=s.data,t({type:S,payload:o}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:C,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()},qe=a(0),Ye=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.login})).userInfo;return Object(qe.jsx)("header",{children:Object(qe.jsx)(Ae.a,{bg:"primary",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(qe.jsxs)(ke.a,{children:[Object(qe.jsx)(Pe.LinkContainer,{to:"/",children:Object(qe.jsx)(Ae.a.Brand,{children:"College Admission"})}),Object(qe.jsx)(Ae.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(qe.jsxs)(Ae.a.Collapse,{id:"basic-navbar-nav",children:[Object(qe.jsxs)(_e.a,{className:"me-auto",children:[Object(qe.jsx)(Pe.LinkContainer,{to:"/colleges",children:Object(qe.jsx)(_e.a.Link,{children:" Colleges "})}),Object(qe.jsx)(Pe.LinkContainer,{to:"/admissions",children:Object(qe.jsx)(_e.a.Link,{children:" Admissions "})}),Object(qe.jsx)(Pe.LinkContainer,{to:"/forums",children:Object(qe.jsx)(_e.a.Link,{children:" Forums "})}),t&&Object(qe.jsx)(Pe.LinkContainer,{to:"/calculator",children:Object(qe.jsx)(_e.a.Link,{children:" Calculator "})})]}),Object(qe.jsx)(_e.a,{className:"ms-auto",children:t?Object(qe.jsxs)(Te.a,{title:t.username,id:"username",children:[Object(qe.jsx)(Pe.LinkContainer,{to:"/profile",children:Object(qe.jsx)(Te.a.Item,{children:"My Profile"})}),Object(qe.jsx)(Pe.LinkContainer,{to:"/background",children:Object(qe.jsx)(Te.a.Item,{children:"My Background"})}),Object(qe.jsx)(Pe.LinkContainer,{to:"/myadmissions",children:Object(qe.jsx)(Te.a.Item,{children:"My Admissions"})}),Object(qe.jsx)(Pe.LinkContainer,{to:"/myposts",children:Object(qe.jsx)(Te.a.Item,{children:"My Posts"})}),Object(qe.jsx)(Pe.LinkContainer,{to:"/",children:Object(qe.jsx)(Te.a.Item,{onClick:function(){e(Be())},children:"Logout"})})]}):Object(qe.jsx)(Pe.LinkContainer,{to:"/login",children:Object(qe.jsxs)(_e.a.Link,{children:[Object(qe.jsx)("i",{className:"fas fa-user"})," Log In "]})})})]})]})})})},ze=a(113),Ve=a(71),We=function(){return Object(qe.jsx)("footer",{children:Object(qe.jsx)(ke.a,{children:Object(qe.jsx)(ze.a,{children:Object(qe.jsx)(Ve.a,{className:"text-center py-3",children:"Copyright \xa9 College Admission"})})})})},Ke=a(118),He=a(114),Je=function(){return Object(qe.jsxs)("div",{className:"text-center",children:[Object(qe.jsx)("h3",{children:"Explore College Admission Website And Find The Best Schools For You"}),Object(qe.jsxs)(Ke.a,{pause:"hover",className:"bg-transparent",children:[Object(qe.jsx)(Ke.a.Item,{children:Object(qe.jsx)(He.a,{src:"images/home1.jpeg",fluid:!0})},"home1"),Object(qe.jsx)(Ke.a.Item,{children:Object(qe.jsx)(He.a,{src:"images/home2.jpeg",fluid:!0})},"home2"),Object(qe.jsx)(Ke.a.Item,{children:Object(qe.jsx)(He.a,{src:"images/home3.jpeg",fluid:!0})},"home3"),Object(qe.jsx)(Ke.a.Item,{children:Object(qe.jsx)(He.a,{src:"images/home4.jpeg",fluid:!0})},"home4")]})]})},$e=function(){return Object(qe.jsx)("div",{children:Object(qe.jsx)(Je,{})})},Qe=a(6),Xe=a(122),Ze=a(117),et=a(70),tt=function(e){var t=e.children;return Object(qe.jsx)(ke.a,{children:Object(qe.jsx)(ze.a,{className:"justify-content-md-center",children:Object(qe.jsx)(Ve.a,{xs:12,md:6,children:t})})})},at=a(120),nt=function(e){var t=e.variant,a=e.children;return Object(qe.jsx)(at.a,{variant:t,children:a})},rt=function(e){var t=e.location,a=e.history,r=Object(n.useState)(""),c=Object(Qe.a)(r,2),o=c[0],i=c[1],l=Object(n.useState)(""),u=Object(Qe.a)(l,2),b=u[0],h=u[1],p=Object(s.b)(),O=Object(s.c)((function(e){return e.login})),x=O.userInfo,m=O.error,g=t.search?t.search.split("=")[1]:"";Object(n.useEffect)((function(){x&&a.push(g)}),[x,a,g]);return Object(qe.jsxs)(tt,{children:[Object(qe.jsx)("h1",{className:"text-center",children:"Log In"}),m&&Object(qe.jsx)(nt,{variant:"danger",children:m}),Object(qe.jsxs)(Xe.a,{className:"card",border:"primary",children:[Object(qe.jsx)(Xe.a.Img,{className:"card-img",variant:"top",src:"/images/login.jpg"}),Object(qe.jsx)(Xe.a.Body,{children:Object(qe.jsxs)(Ze.a,{onSubmit:function(e){e.preventDefault(),p(function(e,t){return function(){var a=Object(Ue.a)(De.a.mark((function a(n){var r,c,s;return De.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r={headers:{"Content-Type":"application/json"}},a.next=4,Fe.a.post("/api/users/login",{email:e,password:t},r);case 4:c=a.sent,s=c.data,n({type:d,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),n({type:j,payload:a.t0.response.data.message});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}(o,b))},children:[Object(qe.jsxs)(Ze.a.Group,{controlId:"email",children:[Object(qe.jsx)(Ze.a.Label,{children:"Email"}),Object(qe.jsx)(Ze.a.Control,{type:"email",placeholder:"Enter email",value:o,onChange:function(e){return i(e.target.value)}})]}),Object(qe.jsxs)(Ze.a.Group,{controlId:"password",className:"py-3",children:[Object(qe.jsx)(Ze.a.Label,{children:"Password"}),Object(qe.jsx)(Ze.a.Control,{type:"password",placeholder:"Enter password",value:b,onChange:function(e){return h(e.target.value)}})]}),Object(qe.jsx)("div",{className:"d-grid gap-2",children:Object(qe.jsx)(et.a,{type:"submit",variant:"primary",children:"Log In"})})]})})]}),Object(qe.jsx)(ze.a,{className:"py-3 text-center",children:Object(qe.jsxs)(Ve.a,{children:["New User? ",Object(qe.jsx)(Le.Link,{to:g?"/register?redirect=".concat(g):"/register",children:"Register"})]})})]})},ct=function(e){var t=e.location,a=e.history,r=Object(n.useState)(""),c=Object(Qe.a)(r,2),o=c[0],i=c[1],l=Object(n.useState)(""),j=Object(Qe.a)(l,2),h=j[0],p=j[1],O=Object(n.useState)(""),x=Object(Qe.a)(O,2),m=x[0],g=x[1],f=Object(n.useState)(""),v=Object(Qe.a)(f,2),y=v[0],S=v[1],C=Object(n.useState)(!1),I=Object(Qe.a)(C,2),N=I[0],E=I[1],k=Object(n.useState)(""),L=Object(Qe.a)(k,2),w=L[0],A=L[1],_=Object(s.b)(),T=Object(s.c)((function(e){return e.register})),P=T.userInfo,G=T.error,D=t.search?t.search.split("=")[1]:"";Object(n.useEffect)((function(){P&&a.push(D)}),[P,a,D]);return Object(qe.jsxs)(tt,{children:[Object(qe.jsx)("h1",{className:"text-center",children:"Register"}),w&&Object(qe.jsx)(nt,{variant:"danger",children:w}),G&&Object(qe.jsx)(nt,{variant:"danger",children:G}),Object(qe.jsxs)(Xe.a,{className:"card",border:"primary",children:[Object(qe.jsx)(Xe.a.Img,{className:"card-img",variant:"top",src:"/images/login.jpg"}),Object(qe.jsx)(Xe.a.Body,{children:Object(qe.jsxs)(Ze.a,{noValidate:!0,validated:N,onSubmit:function(e){e.preventDefault(),!0===e.currentTarget.checkValidity()&&(m!==y?A("Passwords do not match"):_(function(e,t,a){return function(){var n=Object(Ue.a)(De.a.mark((function n(r){var c,s,o;return De.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c={headers:{"Content-Type":"application/json"}},n.next=4,Fe.a.post("/api/users/register",{username:e,email:t,password:a},c);case 4:s=n.sent,o=s.data,r({type:u,payload:o}),r({type:d,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),r({type:b,payload:n.t0.response.data.message});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}(o,h,m))),E(!0)},children:[Object(qe.jsxs)(Ze.a.Group,{controlId:"username",children:[Object(qe.jsx)(Ze.a.Label,{children:"Username"}),Object(qe.jsx)(Ze.a.Control,{type:"text",placeholder:"Enter username",value:o,onChange:function(e){return i(e.target.value)},required:!0}),Object(qe.jsx)(Ze.a.Control.Feedback,{type:"invalid",children:"Username required."})]}),Object(qe.jsxs)(Ze.a.Group,{controlId:"email",className:"py-3",children:[Object(qe.jsx)(Ze.a.Label,{children:"Email"}),Object(qe.jsx)(Ze.a.Control,{type:"email",placeholder:"Enter email",value:h,onChange:function(e){return p(e.target.value)},required:!0}),Object(qe.jsx)(Ze.a.Control.Feedback,{type:"invalid",children:"Email required."})]}),Object(qe.jsxs)(Ze.a.Group,{controlId:"password",children:[Object(qe.jsx)(Ze.a.Label,{children:"Password"}),Object(qe.jsx)(Ze.a.Control,{type:"password",placeholder:"Enter password",value:m,onChange:function(e){return g(e.target.value)},required:!0}),Object(qe.jsx)(Ze.a.Control.Feedback,{type:"invalid",children:"Password required."})]}),Object(qe.jsxs)(Ze.a.Group,{controlId:"confirmPassword",className:"py-3",children:[Object(qe.jsx)(Ze.a.Label,{children:"Confirm Password"}),Object(qe.jsx)(Ze.a.Control,{type:"password",placeholder:"Confirm password",value:y,onChange:function(e){return S(e.target.value)},required:!0}),Object(qe.jsx)(Ze.a.Control.Feedback,{type:"invalid",children:"Confirm password required."})]}),Object(qe.jsx)("div",{className:"d-grid gap-2",children:Object(qe.jsx)(et.a,{type:"submit",variant:"primary",children:"Register"})})]})})]}),Object(qe.jsx)(ze.a,{className:"py-3 text-center",children:Object(qe.jsxs)(Ve.a,{children:["Already Have an Account? ",Object(qe.jsx)(Le.Link,{to:D?"/login?redirect=".concat(D):"/login",children:"Log In"})]})})]})},st=function(e){var t=e.history,a=Object(n.useState)(""),r=Object(Qe.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)(""),l=Object(Qe.a)(i,2),j=l[0],u=l[1],b=Object(n.useState)(""),h=Object(Qe.a)(b,2),x=h[0],v=h[1],y=Object(n.useState)(""),S=Object(Qe.a)(y,2),C=S[0],I=S[1],N=Object(n.useState)(null),E=Object(Qe.a)(N,2),k=E[0],L=E[1],w=Object(n.useState)(!1),A=Object(Qe.a)(w,2),_=A[0],T=A[1],P=Object(s.b)(),G=Object(s.c)((function(e){return e.login})).userInfo,D=Object(s.c)((function(e){return e.userProfile})),U=D.user,R=D.error,F=Object(s.c)((function(e){return e.userUpdateProfile})).success;Object(n.useEffect)((function(){G?U&&U.username&&!F?(o(U.username),u(U.email),v(U.gender),I(U.location)):(P({type:f}),P(function(){var e=Object(Ue.a)(De.a.mark((function e(t,a){var n,r,c,s,o;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a(),r=n.login.userInfo,c={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=5,Fe.a.get("/api/users/profile",c);case 5:s=e.sent,o=s.data,t({type:p,payload:o}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:O,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}())):t.push("/login")}),[P,t,G,U,F]);return Object(qe.jsxs)(tt,{children:[Object(qe.jsx)("h2",{className:"text-center py-3",children:"Update Profile"}),R&&Object(qe.jsx)(nt,{variant:"danger",children:R}),k&&Object(qe.jsx)(nt,{variant:"danger",children:k}),_&&Object(qe.jsx)(nt,{variant:"success",children:"Profile Updated"}),Object(qe.jsx)(Xe.a,{className:"card",border:"primary",children:Object(qe.jsx)(Xe.a.Body,{children:Object(qe.jsxs)(Ze.a,{onSubmit:function(e){e.preventDefault(),0===c.length?L("Username cannot be empty"):(P(function(e){return function(){var t=Object(Ue.a)(De.a.mark((function t(a,n){var r,c,s,o,i;return De.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n(),c=r.login.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=5,Fe.a.put("/api/users/profile",e,s);case 5:o=t.sent,i=o.data,a({type:m,payload:i}),a({type:d,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a({type:g,payload:t.t0.response.data.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()}({id:U._id,username:c,email:j,gender:x,location:C})),T(!0))},children:[Object(qe.jsxs)(Ze.a.Group,{controlId:"username",children:[Object(qe.jsx)(Ze.a.Label,{children:"Username"}),Object(qe.jsx)(Ze.a.Control,{type:"text",placeholder:"Enter username",value:c,onChange:function(e){return o(e.target.value)}})]}),Object(qe.jsxs)(Ze.a.Group,{controlId:"email",className:"py-3",children:[Object(qe.jsx)(Ze.a.Label,{children:"Email"}),Object(qe.jsx)(Ze.a.Control,{type:"email",placeholder:j,disabled:!0})]}),Object(qe.jsxs)(Ze.a.Group,{controlId:"gender",children:[Object(qe.jsx)(Ze.a.Label,{children:"Gender"}),Object(qe.jsxs)(Ze.a.Control,{as:"select",className:"form-select rounded",value:x||"",onChange:function(e){return v(e.target.value)},children:[Object(qe.jsx)("option",{children:"Choose..."}),Object(qe.jsx)("option",{value:"male",children:"Male"}),Object(qe.jsx)("option",{value:"female",children:"Female"}),Object(qe.jsx)("option",{value:"other",children:"Other"})]})]}),Object(qe.jsxs)(Ze.a.Group,{controlId:"location",className:"py-3",children:[Object(qe.jsx)(Ze.a.Label,{children:"Location"}),Object(qe.jsx)(Ze.a.Control,{type:"text",placeholder:"Enter location",value:C||"",onChange:function(e){return I(e.target.value)}})]}),Object(qe.jsx)("div",{className:"d-grid gap-2",children:Object(qe.jsx)(et.a,{type:"submit",variant:"primary",children:"Update"})})]})})}),Object(qe.jsx)(ze.a,{className:"py-3 text-center",children:Object(qe.jsx)(Ve.a,{children:Object(qe.jsx)(Le.Link,{to:"/changepassword",children:"Change Password"})})})]})},ot=function(e){var t=e.history,a=Object(n.useState)(""),r=Object(Qe.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)(""),l=Object(Qe.a)(i,2),d=l[0],j=l[1],u=Object(n.useState)(null),b=Object(Qe.a)(u,2),h=b[0],p=b[1],O=Object(n.useState)(!1),x=Object(Qe.a)(O,2),m=x[0],g=x[1],f=Object(s.b)(),S=Object(s.c)((function(e){return e.login})).userInfo,C=Object(s.c)((function(e){return e.userUpdateProfile})).success;Object(n.useEffect)((function(){S&&!C||t.push("/login")}),[S,t,C]);return Object(qe.jsxs)(tt,{children:[Object(qe.jsx)("h2",{className:"text-center py-3",children:"Change Password"}),h&&Object(qe.jsx)(nt,{variant:"danger",children:h}),m&&Object(qe.jsx)(nt,{variant:"success",children:"Password Changed"}),Object(qe.jsx)(Xe.a,{className:"card",border:"primary",children:Object(qe.jsx)(Xe.a.Body,{children:Object(qe.jsxs)(Ze.a,{onSubmit:function(e){var t;e.preventDefault(),0===c.length?p("New password cannot be empty"):d!==c?p("Passwords do not match"):(f((t={id:S._id,newPassword:c},function(){var e=Object(Ue.a)(De.a.mark((function e(a,n){var r,c,s,o,i;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n(),c=r.login.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=5,Fe.a.put("/api/users/changepassword",t,s);case 5:o=e.sent,i=o.data,a({type:v,payload:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:y,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}())),g(!0),setTimeout((function(){f(Be())}),1500))},children:[Object(qe.jsxs)(Ze.a.Group,{controlId:"newPassword",children:[Object(qe.jsx)(Ze.a.Label,{children:"New Password"}),Object(qe.jsx)(Ze.a.Control,{type:"password",placeholder:"Enter new password",value:c,onChange:function(e){return o(e.target.value)}})]}),Object(qe.jsxs)(Ze.a.Group,{controlId:"confirmPassword",className:"py-3",children:[Object(qe.jsx)(Ze.a.Label,{children:"Confirm Password"}),Object(qe.jsx)(Ze.a.Control,{type:"password",placeholder:"Enter new password again",value:d,onChange:function(e){return j(e.target.value)}})]}),Object(qe.jsx)("div",{className:"d-grid gap-2",children:Object(qe.jsx)(et.a,{type:"submit",variant:"primary",children:"Change Password"})})]})})}),Object(qe.jsx)(ze.a,{className:"py-3 text-center",children:Object(qe.jsx)(Ve.a,{children:Object(qe.jsx)(Le.Link,{to:"/profile",children:"Back To Profile"})})})]})},it=function(e){var t=e.history,a=Object(n.useState)(""),r=Object(Qe.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)(""),l=Object(Qe.a)(i,2),d=l[0],j=l[1],u=Object(n.useState)(""),b=Object(Qe.a)(u,2),h=b[0],p=b[1],O=Object(n.useState)(""),x=Object(Qe.a)(O,2),m=x[0],g=x[1],f=Object(n.useState)(""),v=Object(Qe.a)(f,2),y=v[0],S=v[1],C=Object(n.useState)(""),I=Object(Qe.a)(C,2),L=I[0],w=I[1],A=Object(n.useState)(""),_=Object(Qe.a)(A,2),T=_[0],P=_[1],G=Object(n.useState)(""),D=Object(Qe.a)(G,2),U=D[0],R=D[1],F=Object(n.useState)(""),B=Object(Qe.a)(F,2),M=B[0],q=B[1],Y=Object(n.useState)(""),z=Object(Qe.a)(Y,2),V=z[0],W=z[1],K=Object(n.useState)(""),H=Object(Qe.a)(K,2),J=H[0],$=H[1],Q=Object(n.useState)(""),X=Object(Qe.a)(Q,2),Z=X[0],ee=X[1],te=Object(n.useState)(""),ae=Object(Qe.a)(te,2),ne=ae[0],re=ae[1],ce=Object(n.useState)(!1),se=Object(Qe.a)(ce,2),oe=se[0],ie=se[1],le=Object(s.b)(),de=Object(s.c)((function(e){return e.login})).userInfo,je=Object(s.c)((function(e){return e.userBackground})),ue=je.user,be=je.error,he=Object(s.c)((function(e){return e.userUpdateBackground})).success;Object(n.useEffect)((function(){de?ue&&ue.school&&!he?(o(ue.school),j(ue.schoolLevel),p(ue.major),g(ue.gpa),S(ue.langTest),w(ue.langScore),P(ue.genTest),R(ue.genScore),q(ue.workLevel),W(ue.workYears),$(ue.researchExp),ee(ue.competitionExp),re(ue.otherInfo)):(le({type:k}),le(Me())):t.push("/login")}),[le,t,de,ue,he]);return Object(qe.jsxs)(tt,{children:[Object(qe.jsx)("h2",{className:"text-center py-3",children:"Update Academic Background Info"}),be&&Object(qe.jsx)(nt,{variant:"danger",children:be}),oe&&Object(qe.jsx)(nt,{variant:"success",children:"Profile Updated"}),Object(qe.jsx)(Xe.a,{className:"card",border:"primary",children:Object(qe.jsx)(Xe.a.Body,{children:Object(qe.jsxs)(Ze.a,{onSubmit:function(e){e.preventDefault(),le(function(e){return function(){var t=Object(Ue.a)(De.a.mark((function t(a,n){var r,c,s,o,i;return De.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n(),c=r.login.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=5,Fe.a.put("/api/users/background",e,s);case 5:o=t.sent,i=o.data,a({type:N,payload:i}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:E,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}()}({id:ue._id,school:c,schoolLevel:d,major:h,gpa:m,langTest:y,langScore:L,genTest:T,genScore:U,workLevel:M,workYears:V,researchExp:J,competitionExp:Z,otherInfo:ne})),ie(!0)},children:[Object(qe.jsxs)(Ze.a.Group,{controlId:"school",children:[Object(qe.jsx)(Ze.a.Label,{children:"School Name"}),Object(qe.jsx)(Ze.a.Control,{type:"text",placeholder:"Enter school name",value:c||"",onChange:function(e){return o(e.target.value)}})]}),Object(qe.jsxs)(Ze.a.Group,{controlId:"schoolLevel",className:"py-3",children:[Object(qe.jsx)(Ze.a.Label,{children:"School Level"}),Object(qe.jsxs)(Ze.a.Control,{as:"select",className:"form-select rounded",value:d||"",onChange:function(e){return j(e.target.value)},children:[Object(qe.jsx)("option",{value:"",children:"Choose..."}),Object(qe.jsx)("option",{value:"High School",children:"High School"}),Object(qe.jsx)("option",{value:"Undergraduate",children:"Undergraduate"}),Object(qe.jsx)("option",{value:"Graduate",children:"Graduate"})]})]}),Object(qe.jsxs)(Ze.a.Group,{controlId:"major",children:[Object(qe.jsx)(Ze.a.Label,{children:"Major"}),Object(qe.jsx)(Ze.a.Control,{type:"text",placeholder:"Enter major",value:h||"",onChange:function(e){return p(e.target.value)}})]}),Object(qe.jsxs)(Ze.a.Group,{controlId:"gpa",className:"py-3",children:[Object(qe.jsx)(Ze.a.Label,{children:"GPA"}),Object(qe.jsx)(Ze.a.Control,{type:"number",placeholder:"Enter GPA",value:m||"",max:"4",onChange:function(e){return g(e.target.value)}})]}),Object(qe.jsxs)(ze.a,{children:[Object(qe.jsx)(Ve.a,{children:Object(qe.jsxs)(Ze.a.Group,{controlId:"langTest",children:[Object(qe.jsx)(Ze.a.Label,{children:"Language Test"}),Object(qe.jsxs)(Ze.a.Control,{as:"select",className:"form-select rounded",value:y||"",onChange:function(e){return S(e.target.value)},children:[Object(qe.jsx)("option",{value:"",children:"Choose..."}),Object(qe.jsx)("option",{value:"TOEFL",children:"TOEFL"}),Object(qe.jsx)("option",{value:"IELTS",children:"IELTS"})]})]})}),Object(qe.jsx)(Ve.a,{children:Object(qe.jsxs)(Ze.a.Group,{controlId:"langScore",children:[Object(qe.jsx)(Ze.a.Label,{children:"Score"}),Object(qe.jsx)(Ze.a.Control,{type:"number",placeholder:"Enter language test score",value:L||"",max:"120",onChange:function(e){return w(e.target.value)}})]})})]}),Object(qe.jsxs)(ze.a,{className:"py-3",children:[Object(qe.jsx)(Ve.a,{children:Object(qe.jsxs)(Ze.a.Group,{controlId:"genTest",children:[Object(qe.jsx)(Ze.a.Label,{children:"General Test"}),Object(qe.jsxs)(Ze.a.Control,{as:"select",className:"form-select rounded",value:T||"",onChange:function(e){return P(e.target.value)},children:[Object(qe.jsx)("option",{value:"",children:"Choose..."}),Object(qe.jsx)("option",{value:"GRE",children:"GRE"}),Object(qe.jsx)("option",{value:"GMAT",children:"GMAT"})]})]})}),Object(qe.jsx)(Ve.a,{children:Object(qe.jsxs)(Ze.a.Group,{controlId:"genScore",children:[Object(qe.jsx)(Ze.a.Label,{children:"Score"}),Object(qe.jsx)(Ze.a.Control,{type:"number",placeholder:"Enter general test score",value:U||"",max:"340",onChange:function(e){return R(e.target.value)}})]})})]}),Object(qe.jsxs)(ze.a,{children:[Object(qe.jsx)(Ve.a,{children:Object(qe.jsxs)(Ze.a.Group,{controlId:"workLevel",children:[Object(qe.jsx)(Ze.a.Label,{children:"Work Experience"}),Object(qe.jsxs)(Ze.a.Control,{as:"select",className:"form-select rounded",value:M||"",onChange:function(e){return q(e.target.value)},children:[Object(qe.jsx)("option",{value:"",children:"Choose..."}),Object(qe.jsx)("option",{value:"Internship",children:"Internship"}),Object(qe.jsx)("option",{value:"Full-time",children:"Full-time"})]})]})}),Object(qe.jsx)(Ve.a,{children:Object(qe.jsxs)(Ze.a.Group,{controlId:"workYears",children:[Object(qe.jsx)(Ze.a.Label,{children:"Years"}),Object(qe.jsxs)(Ze.a.Control,{as:"select",className:"form-select rounded",value:V||"",onChange:function(e){return W(e.target.value)},children:[Object(qe.jsx)("option",{value:"",children:"Choose..."}),Object(qe.jsx)("option",{value:"0-3 months",children:"0-3 months"}),Object(qe.jsx)("option",{value:"3-5 months",children:"3-5 months"}),Object(qe.jsx)("option",{value:"5-11 months",children:"5-11 months"}),Object(qe.jsx)("option",{value:"1-3 years",children:"1-3 years"}),Object(qe.jsx)("option",{value:"3-5 years",children:"3-5 years"}),Object(qe.jsx)("option",{value:"5+ years",children:"5+ years"})]})]})})]}),Object(qe.jsxs)(Ze.a.Group,{controlId:"researchExp",className:"py-3",children:[Object(qe.jsx)(Ze.a.Label,{children:"Research Experience"}),Object(qe.jsx)(Ze.a.Control,{type:"text",placeholder:"Enter research experience",value:J||"",onChange:function(e){return $(e.target.value)}})]}),Object(qe.jsxs)(Ze.a.Group,{controlId:"competitionExp",children:[Object(qe.jsx)(Ze.a.Label,{children:"Competition Experience"}),Object(qe.jsx)(Ze.a.Control,{type:"text",placeholder:"Enter competition experience",value:Z||"",onChange:function(e){return ee(e.target.value)}})]}),Object(qe.jsxs)(Ze.a.Group,{controlId:"otherInfo",className:"py-3",children:[Object(qe.jsx)(Ze.a.Label,{children:"Other Info"}),Object(qe.jsx)(Ze.a.Control,{as:"textarea",rows:"3",placeholder:"Enter other background info",value:ne||"",onChange:function(e){return re(e.target.value)}})]}),Object(qe.jsx)("div",{className:"d-grid gap-2",children:Object(qe.jsx)(et.a,{type:"submit",variant:"primary",children:"Update"})})]})})})]})},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(Ue.a)(De.a.mark((function t(a){var n,r;return De.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fe.a.get("/api/colleges?keyword=".concat(e));case 3:n=t.sent,r=n.data,a({type:L,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:w,payload:t.t0.response.data.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},dt=function(e){var t=e.college;return Object(qe.jsx)(Xe.a,{className:"mb-3 p-1 rounded",children:Object(qe.jsxs)(ze.a,{children:[Object(qe.jsx)(Ve.a,{md:4,children:Object(qe.jsx)(Le.Link,{to:"/colleges/".concat(t._id),children:Object(qe.jsx)(Xe.a.Img,{src:t.image,variant:"top",className:"college-img"})})}),Object(qe.jsx)(Ve.a,{md:8,children:Object(qe.jsxs)(Xe.a.Body,{children:[Object(qe.jsx)(Le.Link,{to:"/colleges/".concat(t._id),children:Object(qe.jsx)(Xe.a.Title,{as:"div",children:Object(qe.jsx)("h4",{children:Object(qe.jsx)("strong",{children:t.name})})})}),Object(qe.jsx)(Xe.a.Text,{as:"div",className:"text-muted",children:Object(qe.jsx)("strong",{children:t.location})}),Object(qe.jsxs)(Xe.a.Text,{as:"div",className:"py-2",children:[Object(qe.jsxs)("strong",{children:["#",t.ranking]})," in ",Object(qe.jsx)("strong",{children:"National College Ranking"})]}),Object(qe.jsx)(Xe.a.Text,{as:"div",children:t.description})]})})]})})},jt=Object(we.o)((function(e){var t=e.history,a=e.type,r=Object(n.useState)(""),c=Object(Qe.a)(r,2),s=c[0],o=c[1];return Object(qe.jsxs)(Ze.a,{onSubmit:function(e){e.preventDefault(),s.trim()?t.push("/".concat(a,"/search/").concat(s)):t.push("/".concat(a))},className:"py-3 d-flex",children:[Object(qe.jsx)(Ze.a.Control,{type:"text",name:"q",onChange:function(e){return o(e.target.value)},placeholder:"Search by keyword...",className:"me-sm-2 rounded"}),Object(qe.jsx)(et.a,{type:"submit",variant:"outline-success",className:"rounded",children:"Search"})]})})),ut=function(e){var t=e.match.params.keyword,a=Object(s.b)(),r=Object(s.c)((function(e){return e.collegeList})),c=r.colleges,o=r.error;return Object(n.useEffect)((function(){a(lt(t))}),[a,t]),Object(qe.jsx)(qe.Fragment,{children:o?Object(qe.jsx)(nt,{variant:"danger",children:o}):Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsxs)(ze.a,{className:"mt-3 justify-content-md-center",children:[Object(qe.jsx)(Ve.a,{md:7,children:Object(qe.jsx)("h3",{children:"All Colleges"})}),Object(qe.jsx)(Ve.a,{md:3,children:Object(qe.jsx)(jt,{type:"colleges"})})]}),Object(qe.jsx)(ze.a,{className:"justify-content-md-center",children:Object(qe.jsx)(Ve.a,{md:10,children:c.map((function(e){return Object(qe.jsx)(dt,{college:e},e._id)}))})})]})})},bt=a(123),ht=a(53),pt=a.n(ht),Ot={width:"100%",height:"721px"},xt=function(e){var t=e.lng,a=e.lat,r=Object(n.useRef)(null);return Object(n.useEffect)((function(){(function(){var e=Object(Ue.a)(De.a.mark((function e(){var n,c,s;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.a.get("/api/config/mapboxToken");case 2:return n=e.sent,c=n.data,(s=new pt.a.Map({container:r.current,accessToken:c,style:"mapbox://styles/mapbox/streets-v11",center:[t||-73.9856,a||40.7497],zoom:12})).addControl(new pt.a.NavigationControl,"top-right"),(new pt.a.Marker).setLngLat([t||-73.9856,a||40.7497]).addTo(s),e.abrupt("return",(function(){return s.remove()}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,a]),Object(qe.jsx)("div",{ref:r,style:Ot})},mt=function(e){var t=e.match.params.id,a=Object(s.b)(),r=Object(s.c)((function(e){return e.collegeDetails})),c=r.college,o=r.error;return Object(n.useEffect)((function(){var e;a((e=t,function(){var t=Object(Ue.a)(De.a.mark((function t(a){var n,r;return De.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fe.a.get("/api/colleges/".concat(e));case 3:n=t.sent,r=n.data,a({type:A,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:_,payload:t.t0.response.data.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))}),[a,t]),Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsx)(Le.Link,{className:"btn btn-primary my-3",to:"/colleges",children:"Go Back"}),o?Object(qe.jsx)(nt,{variant:"danger",children:o}):Object(qe.jsxs)(ze.a,{children:[Object(qe.jsxs)(Ve.a,{md:6,children:[Object(qe.jsx)(He.a,{src:c.image,className:"college-img-lg"}),Object(qe.jsxs)(Xe.a,{className:"my-3 px-1",children:[Object(qe.jsxs)(Xe.a.Body,{children:[Object(qe.jsx)(Xe.a.Title,{as:"div",children:Object(qe.jsx)("h4",{children:Object(qe.jsx)("strong",{children:c.name})})}),Object(qe.jsx)(Xe.a.Text,{as:"div",children:c.description})]}),Object(qe.jsxs)(bt.a,{variant:"flush",children:[Object(qe.jsx)(bt.a.Item,{className:"text-muted",children:c.location}),Object(qe.jsxs)(bt.a.Item,{children:["National College Ranking: #",c.ranking]}),Object(qe.jsx)(bt.a.Item,{children:Object(qe.jsx)("a",{href:c.website,target:"_blank",rel:"noreferrer",children:"Visit School's Official Website"})}),Object(qe.jsxs)(bt.a.Item,{children:["Tuition: $",c.in_state_tuition," (in-state) $",c.out_of_state_tuition," (out-of-state)"]})]})]})]}),Object(qe.jsx)(Ve.a,{md:6,children:Object(qe.jsx)(xt,{lng:c.longitude,lat:c.latitude})})]})]})},gt=function(e){return function(){var t=Object(Ue.a)(De.a.mark((function t(a){var n,r;return De.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fe.a.get("/api/admissions/".concat(e));case 3:n=t.sent,r=n.data,a({type:V,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:W,payload:t.t0.response.data.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},ft=function(e){var t=e.admission,a=t.updatedAt.split("T")[0].split("-");return Object(qe.jsx)(Xe.a,{className:"rounded",children:Object(qe.jsx)(ze.a,{children:Object(qe.jsx)(Ve.a,{children:Object(qe.jsxs)(Xe.a.Body,{children:[Object(qe.jsxs)(ze.a,{children:[Object(qe.jsx)(Ve.a,{md:10,children:Object(qe.jsx)(Le.Link,{to:"/admissions/".concat(t._id),children:Object(qe.jsx)(Xe.a.Title,{as:"div",children:Object(qe.jsx)("h5",{children:Object(qe.jsx)("strong",{children:t.title})})})})}),Object(qe.jsx)(Ve.a,{children:Object(qe.jsxs)(Xe.a.Text,{as:"div",children:[t.comments.length," comments"]})})]}),Object(qe.jsxs)(ze.a,{children:[Object(qe.jsx)(Ve.a,{md:10,children:Object(qe.jsx)(Xe.a.Text,{as:"div",className:"text-muted",children:Object(qe.jsx)("strong",{children:t.username})})}),Object(qe.jsx)(Ve.a,{children:Object(qe.jsxs)(Xe.a.Text,{as:"div",children:[a[1],"-",a[2],"-",a[0]]})})]})]})})})})},vt=function(e){var t=e.match,a=t.params.keyword,r=t.params.pageNum||1,c=Object(s.b)(),o=Object(s.c)((function(e){return e.login})).userInfo,i=Object(s.c)((function(e){return e.admissionAll})),l=i.admissions,d=i.error,j=i.page,u=i.pages;return Object(n.useEffect)((function(){c({type:K}),c(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var a=Object(Ue.a)(De.a.mark((function a(n){var r,c;return De.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Fe.a.get("/api/admissions?keyword=".concat(e,"&pageNum=").concat(t));case 3:r=a.sent,c=r.data,n({type:Y,payload:c}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:z,payload:a.t0.response.data.message});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(a,r))}),[c,a,r]),Object(qe.jsx)(qe.Fragment,{children:d?Object(qe.jsx)(nt,{variant:"danger",children:d}):Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsxs)(ze.a,{className:"mt-3 justify-content-md-center",children:[Object(qe.jsx)(Ve.a,{md:5,children:Object(qe.jsx)("h3",{children:"All Admissions"})}),Object(qe.jsx)(Ve.a,{md:5,children:Object(qe.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(qe.jsx)(jt,{type:"admissions"}),o&&Object(qe.jsx)(Le.Link,{className:"btn btn-primary my-3 rounded ms-5",to:"/newadmission",children:"New Admission Result"})]})})]}),Object(qe.jsx)(ze.a,{className:"justify-content-md-center",children:Object(qe.jsx)(Ve.a,{md:10,children:l.map((function(e){return Object(qe.jsx)(ft,{admission:e},e._id)}))})}),Object(qe.jsxs)(ze.a,{className:"justify-content-md-center",children:[Object(qe.jsx)(Ve.a,{md:5,children:j&&j>1&&Object(qe.jsxs)(Le.Link,{className:"btn btn-primary my-3 rounded",to:a?"/admissions/search/".concat(a,"/page/").concat(j-1):"/admissions/page/".concat(j-1),children:[Object(qe.jsx)("i",{className:"fas fa-long-arrow-alt-left"})," Previous"]})}),Object(qe.jsx)(Ve.a,{md:5,children:Object(qe.jsx)("div",{className:"d-flex justify-content-end",children:j&&j<u&&Object(qe.jsxs)(Le.Link,{className:"btn btn-primary my-3 rounded ms-auto",to:a?"/admissions/search/".concat(a,"/page/").concat(j+1):"/admissions/page/".concat(j+1),children:["Next ",Object(qe.jsx)("i",{className:"fas fa-long-arrow-alt-right"})]})})})]})]})})},yt=function(e){var t=e.history,a=Object(n.useState)(""),r=Object(Qe.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)(""),l=Object(Qe.a)(i,2),d=l[0],j=l[1],u=Object(n.useState)(""),b=Object(Qe.a)(u,2),h=b[0],p=b[1],O=Object(n.useState)(""),x=Object(Qe.a)(O,2),m=x[0],g=x[1],f=Object(n.useState)(""),v=Object(Qe.a)(f,2),y=v[0],S=v[1],C=Object(n.useState)(""),I=Object(Qe.a)(C,2),N=I[0],E=I[1],k=Object(n.useState)(""),L=Object(Qe.a)(k,2),w=L[0],A=L[1],_=Object(n.useState)(""),T=Object(Qe.a)(_,2),P=T[0],R=T[1],F=Object(n.useState)(""),B=Object(Qe.a)(F,2),M=B[0],q=B[1],Y=Object(n.useState)(!1),z=Object(Qe.a)(Y,2),V=z[0],W=z[1],K=Object(s.b)(),H=Object(s.c)((function(e){return e.login})).userInfo,J=Object(s.c)((function(e){return e.admissionCreate})),$=J.success,Q=J.error;Object(n.useEffect)((function(){H||t.push("/login"),$&&(K({type:U}),t.push("/myadmissions"))}),[K,H,$,t]);return Object(qe.jsxs)(tt,{children:[Object(qe.jsx)("h2",{className:"text-center py-3",children:"New Admission Result"}),Q&&Object(qe.jsx)(nt,{variant:"danger",children:Q}),Object(qe.jsx)(Xe.a,{className:"card",border:"primary",children:Object(qe.jsx)(Xe.a.Body,{children:Object(qe.jsxs)(Ze.a,{noValidate:!0,validated:V,onSubmit:function(e){var t;e.preventDefault(),!0===e.currentTarget.checkValidity()&&K((t={user:H._id,college:c,year:d,semester:h,degree:m,program:y,result:N,date:w,title:P,content:M},function(){var e=Object(Ue.a)(De.a.mark((function e(a,n){var r,c,s,o,i;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n(),c=r.login.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=5,Fe.a.post("/api/admissions",t,s);case 5:o=e.sent,i=o.data,a({type:G,payload:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:D,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}())),W(!0)},children:[Object(qe.jsxs)(Ze.a.Group,{controlId:"college",children:[Object(qe.jsx)(Ze.a.Label,{children:"College"}),Object(qe.jsx)(Ze.a.Control,{type:"text",placeholder:"Enter college name",value:c,onChange:function(e){return o(e.target.value)},required:!0}),Object(qe.jsx)(Ze.a.Control.Feedback,{type:"invalid",children:"College required."})]}),Object(qe.jsxs)(ze.a,{className:"py-3",children:[Object(qe.jsx)(Ve.a,{children:Object(qe.jsxs)(Ze.a.Group,{controlId:"year",children:[Object(qe.jsx)(Ze.a.Label,{children:"Year"}),Object(qe.jsx)(Ze.a.Control,{type:"text",placeholder:"Enter year",value:d,onChange:function(e){return j(e.target.value)},required:!0}),Object(qe.jsx)(Ze.a.Control.Feedback,{type:"invalid",children:"Year required."})]})}),Object(qe.jsx)(Ve.a,{children:Object(qe.jsxs)(Ze.a.Group,{controlId:"semester",children:[Object(qe.jsx)(Ze.a.Label,{children:"Semester"}),Object(qe.jsxs)(Ze.a.Control,{as:"select",className:"form-select rounded",value:h||"",onChange:function(e){return p(e.target.value)},required:!0,children:[Object(qe.jsx)("option",{value:"",children:"Choose..."}),Object(qe.jsx)("option",{value:"Fall",children:"Fall"}),Object(qe.jsx)("option",{value:"Spring",children:"Spring"})]}),Object(qe.jsx)(Ze.a.Control.Feedback,{type:"invalid",children:"Semester required."})]})})]}),Object(qe.jsxs)(ze.a,{children:[Object(qe.jsx)(Ve.a,{children:Object(qe.jsxs)(Ze.a.Group,{controlId:"degree",children:[Object(qe.jsx)(Ze.a.Label,{children:"Degree"}),Object(qe.jsxs)(Ze.a.Control,{as:"select",className:"form-select rounded",value:m||"",onChange:function(e){return g(e.target.value)},required:!0,children:[Object(qe.jsx)("option",{value:"",children:"Choose..."}),Object(qe.jsx)("option",{value:"Undergradute",children:"Undergraduate"}),Object(qe.jsx)("option",{value:"Master",children:"Master"}),Object(qe.jsx)("option",{value:"PhD",children:"PhD"})]}),Object(qe.jsx)(Ze.a.Control.Feedback,{type:"invalid",children:"Degree required."})]})}),Object(qe.jsx)(Ve.a,{children:Object(qe.jsxs)(Ze.a.Group,{controlId:"program",children:[Object(qe.jsx)(Ze.a.Label,{children:"Program"}),Object(qe.jsx)(Ze.a.Control,{type:"text",placeholder:"Enter program",value:y,onChange:function(e){return S(e.target.value)},required:!0}),Object(qe.jsx)(Ze.a.Control.Feedback,{type:"invalid",children:"Program required."})]})})]}),Object(qe.jsxs)(ze.a,{className:"py-3",children:[Object(qe.jsx)(Ve.a,{children:Object(qe.jsxs)(Ze.a.Group,{controlId:"result",children:[Object(qe.jsx)(Ze.a.Label,{children:"Admission Result"}),Object(qe.jsxs)(Ze.a.Control,{as:"select",className:"form-select rounded",value:N||"",onChange:function(e){return E(e.target.value)},required:!0,children:[Object(qe.jsx)("option",{value:"",children:"Choose..."}),Object(qe.jsx)("option",{value:"Admitted",children:"Admitted"}),Object(qe.jsx)("option",{value:"Rejected",children:"Rejected"}),Object(qe.jsx)("option",{value:"Waitlist",children:"Waitlist"})]}),Object(qe.jsx)(Ze.a.Control.Feedback,{type:"invalid",children:"Admission result required."})]})}),Object(qe.jsx)(Ve.a,{children:Object(qe.jsxs)(Ze.a.Group,{controlId:"date",children:[Object(qe.jsx)(Ze.a.Label,{children:"Result Date"}),Object(qe.jsx)(Ze.a.Control,{type:"date",className:"rounded",value:w||"",onChange:function(e){return A(e.target.value)},required:!0}),Object(qe.jsx)(Ze.a.Control.Feedback,{type:"invalid",children:"Result date required."})]})})]}),Object(qe.jsxs)(Ze.a.Group,{controlId:"title",children:[Object(qe.jsx)(Ze.a.Label,{children:"Title"}),Object(qe.jsx)(Ze.a.Control,{type:"text",placeholder:"Enter title of this admission result",value:P,onChange:function(e){return R(e.target.value)},required:!0}),Object(qe.jsx)(Ze.a.Control.Feedback,{type:"invalid",children:"Title required."})]}),Object(qe.jsxs)(Ze.a.Group,{controlId:"content",className:"py-3",children:[Object(qe.jsx)(Ze.a.Label,{children:"Extra Content"}),Object(qe.jsx)(Ze.a.Control,{as:"textarea",rows:"3",placeholder:"Enter extra content of this admission result",value:M,onChange:function(e){return q(e.target.value)}})]}),Object(qe.jsx)("div",{className:"d-grid gap-2",children:Object(qe.jsx)(et.a,{type:"submit",variant:"primary",children:"Create Admission Result"})})]})})}),Object(qe.jsx)(ze.a,{className:"py-3 text-center",children:Object(qe.jsx)(Ve.a,{children:Object(qe.jsx)(Le.Link,{to:"/admissions",children:"Go Back To All Admissions"})})})]})},St=function(e){var t=e.match,a=Object(n.useState)(""),r=Object(Qe.a)(a,2),c=r[0],o=r[1],i=t.params.id,l=Object(s.b)(),d=Object(s.c)((function(e){return e.login})).userInfo,j=Object(s.c)((function(e){return e.admissionDetail})),u=j.admission,b=j.error,h=Object(s.c)((function(e){return e.admissionBackground})),p=h.user,O=h.error,x=Object(s.c)((function(e){return e.admissionComment})),m=x.success,g=x.error;Object(n.useEffect)((function(){var e;m&&(alert("Comment added."),o(""),l({type:te})),u&&u.user||l(gt(i)),!u.user||p&&p.school||l((e=u.user,function(){var t=Object(Ue.a)(De.a.mark((function t(a){var n,r;return De.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fe.a.get("/api/users/admissionBackground/".concat(e));case 3:n=t.sent,r=n.data,a({type:Q,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:X,payload:t.t0.response.data.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))}),[l,p,i,u,m]);var f=function(e){e.preventDefault(),l(function(e,t){return function(){var a=Object(Ue.a)(De.a.mark((function a(n,r){var c,s,o,i,l;return De.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=r(),s=c.login.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},a.next=5,Fe.a.post("/api/admissions/".concat(e,"/comments"),t,o);case 5:i=a.sent,l=i.data,n({type:Z,payload:l}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),n({type:ee,payload:a.t0.response.data.message});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e,t){return a.apply(this,arguments)}}()}(t.params.id,{comment:c}))};return Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsx)(Le.Link,{className:"btn btn-primary my-3",to:"/admissions",children:"Go Back"}),b?Object(qe.jsx)(nt,{variant:"danger",children:b}):O?Object(qe.jsx)(nt,{variant:"danger",children:O}):Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsxs)(ze.a,{className:"justify-content-md-center",children:[Object(qe.jsx)("h2",{className:"text-center mb-5 admission-title",children:u.title}),Object(qe.jsxs)(Ve.a,{md:5,children:[Object(qe.jsx)("h5",{className:"text-center",children:"Background Information"}),Object(qe.jsx)(Xe.a,{className:"my-3 px-1",border:"primary",children:Object(qe.jsxs)(bt.a,{variant:"flush",children:[Object(qe.jsxs)(bt.a.Item,{children:[Object(qe.jsx)("strong",{children:"Username:"})," ",u.username]}),Object(qe.jsxs)(bt.a.Item,{children:[Object(qe.jsx)("strong",{children:"School:"})," ",p.school]}),Object(qe.jsxs)(bt.a.Item,{children:[Object(qe.jsx)("strong",{children:"School Level:"})," ",p.schoolLevel]}),Object(qe.jsxs)(bt.a.Item,{children:[Object(qe.jsx)("strong",{children:"Major:"})," ",p.major]}),Object(qe.jsxs)(bt.a.Item,{children:[Object(qe.jsx)("strong",{children:"GPA:"})," ",p.gpa]}),Object(qe.jsxs)(bt.a.Item,{children:[Object(qe.jsxs)("strong",{children:[p.langTest," Score:"]})," ",p.langScore]}),Object(qe.jsxs)(bt.a.Item,{children:[Object(qe.jsxs)("strong",{children:[p.genTest," Score:"]})," ",p.genScore]}),Object(qe.jsxs)(bt.a.Item,{children:[Object(qe.jsx)("strong",{children:"Work Experience:"})," ",p.workLevel," (",p.workYears,")"]}),Object(qe.jsxs)(bt.a.Item,{children:[Object(qe.jsx)("strong",{children:"Research Experience:"})," ",p.researchExp?p.researchExp:"N/A"]}),Object(qe.jsxs)(bt.a.Item,{children:[Object(qe.jsx)("strong",{children:"Competition Experience:"})," ",p.competitionExp?p.competitionExp:"N/A"]}),Object(qe.jsxs)(bt.a.Item,{children:[Object(qe.jsx)("strong",{children:"Other Backgrounds:"})," ",p.otherInfo?p.otherInfo:"N/A"]})]})})]}),Object(qe.jsxs)(Ve.a,{md:5,children:[Object(qe.jsx)("h5",{className:"text-center",children:"Admission Result"}),Object(qe.jsx)(Xe.a,{className:"my-3 px-1",border:"primary",children:Object(qe.jsxs)(bt.a,{variant:"flush",children:[Object(qe.jsxs)(bt.a.Item,{children:[Object(qe.jsx)("strong",{children:"College:"})," ",u.college]}),Object(qe.jsxs)(bt.a.Item,{children:[Object(qe.jsx)("strong",{children:"Academic Year:"})," ",u.year," ",u.semester]}),Object(qe.jsxs)(bt.a.Item,{children:[Object(qe.jsx)("strong",{children:"Degree:"})," ",u.degree]}),Object(qe.jsxs)(bt.a.Item,{children:[Object(qe.jsx)("strong",{children:"Program:"})," ",u.program]}),Object(qe.jsxs)(bt.a.Item,{children:[Object(qe.jsx)("strong",{children:"Result:"})," ",u.result]}),Object(qe.jsxs)(bt.a.Item,{children:[Object(qe.jsx)("strong",{children:"Date Received:"})," ",u.date&&"".concat(u.date.split("T")[0].split("-")[1],"-").concat(u.date.split("T")[0].split("-")[2],"-").concat(u.date.split("T")[0].split("-")[0])]}),Object(qe.jsxs)(bt.a.Item,{className:"admission-message",children:[Object(qe.jsx)("strong",{children:"Message:"}),Object(qe.jsx)("br",{}),u.content]})]})})]})]}),Object(qe.jsxs)(ze.a,{className:"justify-content-md-center mt-5",children:[g&&Object(qe.jsx)(nt,{variant:"danger",children:g}),Object(qe.jsx)(Ve.a,{md:10,children:Object(qe.jsx)(bt.a,{variant:"flush",children:d?Object(qe.jsxs)(Ze.a,{onSubmit:f,children:[Object(qe.jsxs)(Ze.a.Group,{controlId:"comment",children:[Object(qe.jsx)(Ze.a.Label,{children:Object(qe.jsx)("strong",{children:"Add Comment"})}),Object(qe.jsx)(Ze.a.Control,{as:"textarea",rows:"3",value:c,onChange:function(e){return o(e.target.value)},className:"rounded"})]}),Object(qe.jsx)(et.a,{type:"submit",variant:"primary",className:"rounded mt-2",children:"Submit"})]}):Object(qe.jsxs)(Ze.a,{onSubmit:f,children:[Object(qe.jsxs)(Ze.a.Group,{controlId:"comment",children:[Object(qe.jsx)(Ze.a.Label,{children:Object(qe.jsxs)("strong",{children:[Object(qe.jsx)(Le.Link,{to:"/login",children:"Login"})," to leave a comment"]})}),Object(qe.jsx)(Ze.a.Control,{as:"textarea",rows:"3",value:c,onChange:function(e){return o(e.target.value)},className:"rounded",disabled:!0})]}),Object(qe.jsx)(et.a,{type:"submit",variant:"primary",className:"rounded mt-2",disabled:!0,children:"Submit"})]})})})]}),Object(qe.jsx)(ze.a,{className:"justify-content-md-center mt-5",children:Object(qe.jsxs)(Ve.a,{md:10,children:[Object(qe.jsx)("strong",{children:"All Comments"}),Object(qe.jsx)(Xe.a,{className:"mt-2 px-1",border:"primary",children:Object(qe.jsx)(bt.a,{variant:"flush",children:u.comments&&u.comments.map((function(e){return Object(qe.jsxs)(bt.a.Item,{className:"py-3",children:[Object(qe.jsxs)(ze.a,{children:[Object(qe.jsx)(Ve.a,{md:10,children:Object(qe.jsx)("h5",{children:Object(qe.jsx)("strong",{children:e.username})})}),Object(qe.jsx)(Ve.a,{children:e.createdAt.substring(0,10)})]}),Object(qe.jsx)(ze.a,{className:"pt-3",children:Object(qe.jsx)(Ve.a,{children:e.comment})})]},e._id)}))})})]})})]})]})},Ct=a(115),It=function(e){var t=e.history,a=Object(s.b)(),r=Object(s.c)((function(e){return e.login})).userInfo,c=Object(s.c)((function(e){return e.myAdmissions})),o=c.admissions,i=c.error,l=Object(s.c)((function(e){return e.admissionDelete})).success;Object(n.useEffect)((function(){a({type:$}),r?a(function(){var e=Object(Ue.a)(De.a.mark((function e(t,a){var n,r,c,s,o;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a(),r=n.login.userInfo,c={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=5,Fe.a.get("/api/admissions/myadmissions",c);case 5:s=e.sent,o=s.data,t({type:H,payload:o}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:J,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()):t.push("/login")}),[a,r,l,t]);var d=function(e){window.confirm("Are you sure you want to delete this admission result?")&&a(function(e){return function(){var t=Object(Ue.a)(De.a.mark((function t(a,n){var r,c,s;return De.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n(),c=r.login.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=5,Fe.a.delete("/api/admissions/".concat(e),s);case 5:a({type:M}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:q,payload:t.t0.response.data.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return Object(qe.jsx)(ze.a,{className:"justify-content-md-center",children:Object(qe.jsxs)(Ve.a,{md:10,children:[Object(qe.jsx)("h3",{children:"My Admissions"}),o?i?Object(qe.jsx)(nt,{variant:"danger",children:i}):Object(qe.jsxs)(Ct.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(qe.jsx)("thead",{children:Object(qe.jsxs)("tr",{children:[Object(qe.jsx)("th",{children:"Title"}),Object(qe.jsx)("th",{children:"Date"}),Object(qe.jsx)("th",{children:"Manage"})]})}),Object(qe.jsx)("tbody",{children:o.map((function(e){return Object(qe.jsxs)("tr",{children:[Object(qe.jsx)("td",{children:Object(qe.jsx)(Le.Link,{to:"/admissions/".concat(e._id),children:e.title})}),Object(qe.jsxs)("td",{children:[e.createdAt.split("T")[0].split("-")[1],"-",e.createdAt.split("T")[0].split("-")[2],"-",e.createdAt.split("T")[0].split("-")[0]]}),Object(qe.jsxs)("td",{children:[Object(qe.jsx)(Pe.LinkContainer,{to:"/admissions/".concat(e._id,"/edit"),children:Object(qe.jsx)(et.a,{variant:"primary",className:"btn-sm",children:Object(qe.jsx)("i",{className:"fas fa-edit"})})}),Object(qe.jsx)(et.a,{variant:"danger",className:"btn-sm",onClick:function(){return d(e._id)},children:Object(qe.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]}):Object(qe.jsx)(qe.Fragment,{})]})})},Nt=function(e){var t=e.match,a=e.history,r=t.params.id,c=Object(n.useState)(""),o=Object(Qe.a)(c,2),i=o[0],l=o[1],d=Object(n.useState)(""),j=Object(Qe.a)(d,2),u=j[0],b=j[1],h=Object(n.useState)(""),p=Object(Qe.a)(h,2),O=p[0],x=p[1],m=Object(n.useState)(""),g=Object(Qe.a)(m,2),f=g[0],v=g[1],y=Object(n.useState)(""),S=Object(Qe.a)(y,2),C=S[0],I=S[1],N=Object(n.useState)(""),E=Object(Qe.a)(N,2),k=E[0],L=E[1],w=Object(n.useState)(""),A=Object(Qe.a)(w,2),_=A[0],T=A[1],P=Object(n.useState)(""),G=Object(Qe.a)(P,2),D=G[0],U=G[1],M=Object(n.useState)(""),q=Object(Qe.a)(M,2),Y=q[0],z=q[1],W=Object(n.useState)(!1),K=Object(Qe.a)(W,2),H=K[0],J=K[1],$=Object(n.useState)(!1),Q=Object(Qe.a)($,2),X=Q[0],Z=Q[1],ee=Object(s.b)(),te=Object(s.c)((function(e){return e.admissionDetail})),ae=te.admission,ne=te.error,re=Object(s.c)((function(e){return e.admissionUpdate})),ce=re.success,se=re.error;Object(n.useEffect)((function(){ce?(ee({type:B}),setTimeout((function(){a.push("/myadmissions")}),1e3)):r&&ae._id===r?(l(ae.college),b(ae.year),x(ae.semester),v(ae.degree),I(ae.program),L(ae.result),T(ae.date.split("T")[0]),U(ae.title),z(ae.content)):ee(gt(r))}),[ee,ce,r,ae,a]);return Object(qe.jsxs)(tt,{children:[Object(qe.jsx)("h2",{className:"text-center py-3",children:"Update Admission Result"}),se&&Object(qe.jsx)(nt,{variant:"danger",children:se}),ne?Object(qe.jsx)(nt,{variant:"danger",children:ne}):Object(qe.jsxs)(qe.Fragment,{children:[H&&Object(qe.jsx)(nt,{variant:"success",children:"Admission Result Updated"}),Object(qe.jsx)(Xe.a,{className:"card",border:"primary",children:Object(qe.jsx)(Xe.a.Body,{children:Object(qe.jsxs)(Ze.a,{noValidate:!0,validated:X,onSubmit:function(e){e.preventDefault(),!0===e.currentTarget.checkValidity()&&(ee(function(e){return function(){var t=Object(Ue.a)(De.a.mark((function t(a,n){var r,c,s,o,i;return De.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n(),c=r.login.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=5,Fe.a.put("/api/admissions/".concat(e._id),e,s);case 5:o=t.sent,i=o.data,a({type:R}),a({type:V,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:F,payload:t.t0.response.data.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}({_id:r,college:i,year:u,semester:O,degree:f,program:C,result:k,date:_,title:D,content:Y})),J(!0)),Z(!0)},children:[Object(qe.jsxs)(Ze.a.Group,{controlId:"college",children:[Object(qe.jsx)(Ze.a.Label,{children:"College"}),Object(qe.jsx)(Ze.a.Control,{type:"text",placeholder:"Enter college name",value:i,onChange:function(e){return l(e.target.value)},required:!0}),Object(qe.jsx)(Ze.a.Control.Feedback,{type:"invalid",children:"College required."})]}),Object(qe.jsxs)(ze.a,{className:"py-3",children:[Object(qe.jsx)(Ve.a,{children:Object(qe.jsxs)(Ze.a.Group,{controlId:"year",children:[Object(qe.jsx)(Ze.a.Label,{children:"Year"}),Object(qe.jsx)(Ze.a.Control,{type:"text",placeholder:"Enter year",value:u,onChange:function(e){return b(e.target.value)},required:!0}),Object(qe.jsx)(Ze.a.Control.Feedback,{type:"invalid",children:"Year required."})]})}),Object(qe.jsx)(Ve.a,{children:Object(qe.jsxs)(Ze.a.Group,{controlId:"semester",children:[Object(qe.jsx)(Ze.a.Label,{children:"Semester"}),Object(qe.jsxs)(Ze.a.Control,{as:"select",className:"form-select rounded",value:O||"",onChange:function(e){return x(e.target.value)},required:!0,children:[Object(qe.jsx)("option",{value:"",children:"Choose..."}),Object(qe.jsx)("option",{value:"Fall",children:"Fall"}),Object(qe.jsx)("option",{value:"Spring",children:"Spring"})]}),Object(qe.jsx)(Ze.a.Control.Feedback,{type:"invalid",children:"Semester required."})]})})]}),Object(qe.jsxs)(ze.a,{children:[Object(qe.jsx)(Ve.a,{children:Object(qe.jsxs)(Ze.a.Group,{controlId:"degree",children:[Object(qe.jsx)(Ze.a.Label,{children:"Degree"}),Object(qe.jsxs)(Ze.a.Control,{as:"select",className:"form-select rounded",value:f||"",onChange:function(e){return v(e.target.value)},required:!0,children:[Object(qe.jsx)("option",{value:"",children:"Choose..."}),Object(qe.jsx)("option",{value:"Undergradute",children:"Undergraduate"}),Object(qe.jsx)("option",{value:"Master",children:"Master"}),Object(qe.jsx)("option",{value:"PhD",children:"PhD"})]}),Object(qe.jsx)(Ze.a.Control.Feedback,{type:"invalid",children:"Degree required."})]})}),Object(qe.jsx)(Ve.a,{children:Object(qe.jsxs)(Ze.a.Group,{controlId:"program",children:[Object(qe.jsx)(Ze.a.Label,{children:"Program"}),Object(qe.jsx)(Ze.a.Control,{type:"text",placeholder:"Enter program",value:C,onChange:function(e){return I(e.target.value)},required:!0}),Object(qe.jsx)(Ze.a.Control.Feedback,{type:"invalid",children:"Program required."})]})})]}),Object(qe.jsxs)(ze.a,{className:"py-3",children:[Object(qe.jsx)(Ve.a,{children:Object(qe.jsxs)(Ze.a.Group,{controlId:"result",children:[Object(qe.jsx)(Ze.a.Label,{children:"Admission Result"}),Object(qe.jsxs)(Ze.a.Control,{as:"select",className:"form-select rounded",value:k||"",onChange:function(e){return L(e.target.value)},required:!0,children:[Object(qe.jsx)("option",{value:"",children:"Choose..."}),Object(qe.jsx)("option",{value:"Admitted",children:"Admitted"}),Object(qe.jsx)("option",{value:"Rejected",children:"Rejected"}),Object(qe.jsx)("option",{value:"Waitlist",children:"Waitlist"})]}),Object(qe.jsx)(Ze.a.Control.Feedback,{type:"invalid",children:"Admission result required."})]})}),Object(qe.jsx)(Ve.a,{children:Object(qe.jsxs)(Ze.a.Group,{controlId:"date",children:[Object(qe.jsx)(Ze.a.Label,{children:"Result Date"}),Object(qe.jsx)(Ze.a.Control,{type:"date",className:"rounded",value:_||"",onChange:function(e){return T(e.target.value)},required:!0}),Object(qe.jsx)(Ze.a.Control.Feedback,{type:"invalid",children:"Result date required."})]})})]}),Object(qe.jsxs)(Ze.a.Group,{controlId:"title",children:[Object(qe.jsx)(Ze.a.Label,{children:"Title"}),Object(qe.jsx)(Ze.a.Control,{type:"text",placeholder:"Enter title of this admission result",value:D,onChange:function(e){return U(e.target.value)},required:!0}),Object(qe.jsx)(Ze.a.Control.Feedback,{type:"invalid",children:"Title required."})]}),Object(qe.jsxs)(Ze.a.Group,{controlId:"content",className:"py-3",children:[Object(qe.jsx)(Ze.a.Label,{children:"Extra Content"}),Object(qe.jsx)(Ze.a.Control,{as:"textarea",rows:"3",placeholder:"Enter extra content of this admission result",value:Y,onChange:function(e){return z(e.target.value)}})]}),Object(qe.jsx)("div",{className:"d-grid gap-2",children:Object(qe.jsx)(et.a,{type:"submit",variant:"primary",children:"Update Admission Result"})})]})})})]}),Object(qe.jsx)(ze.a,{className:"py-3 text-center",children:Object(qe.jsx)(Ve.a,{children:Object(qe.jsx)(Le.Link,{to:"/myadmissions",children:"Go Back To My Admissions"})})})]})},Et=function(e){return function(){var t=Object(Ue.a)(De.a.mark((function t(a){var n,r;return De.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fe.a.get("/api/posts/".concat(e));case 3:n=t.sent,r=n.data,a({type:pe,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:Oe,payload:t.t0.response.data.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},kt=function(e){var t=e.post,a=t.updatedAt.split("T")[0].split("-");return Object(qe.jsx)(Xe.a,{className:"rounded",children:Object(qe.jsx)(ze.a,{children:Object(qe.jsx)(Ve.a,{children:Object(qe.jsxs)(Xe.a.Body,{children:[Object(qe.jsxs)(ze.a,{children:[Object(qe.jsx)(Ve.a,{md:10,children:Object(qe.jsx)(Le.Link,{to:"/posts/".concat(t._id),children:Object(qe.jsx)(Xe.a.Title,{as:"div",children:Object(qe.jsx)("h5",{children:Object(qe.jsx)("strong",{children:t.title})})})})}),Object(qe.jsx)(Ve.a,{children:Object(qe.jsxs)(Xe.a.Text,{as:"div",children:[t.comments.length," comments"]})})]}),Object(qe.jsxs)(ze.a,{children:[Object(qe.jsx)(Ve.a,{md:10,children:Object(qe.jsx)(Xe.a.Text,{as:"div",className:"text-muted",children:Object(qe.jsx)("strong",{children:t.username})})}),Object(qe.jsx)(Ve.a,{children:Object(qe.jsxs)(Xe.a.Text,{as:"div",children:[a[1],"-",a[2],"-",a[0]]})})]})]})})})})},Lt=function(e){var t=e.match,a=t.params.keyword,r=t.params.pageNum||1,c=Object(s.b)(),o=Object(s.c)((function(e){return e.login})).userInfo,i=Object(s.c)((function(e){return e.postAll})),l=i.posts,d=i.error,j=i.page,u=i.pages;return Object(n.useEffect)((function(){c({type:xe}),c(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var a=Object(Ue.a)(De.a.mark((function a(n){var r,c;return De.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Fe.a.get("/api/posts?keyword=".concat(e,"&pageNum=").concat(t));case 3:r=a.sent,c=r.data,n({type:be,payload:c}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:he,payload:a.t0.response.data.message});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(a,r))}),[c,a,r]),Object(qe.jsx)(qe.Fragment,{children:d?Object(qe.jsx)(nt,{variant:"danger",children:d}):Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsxs)(ze.a,{className:"mt-3 justify-content-md-center",children:[Object(qe.jsx)(Ve.a,{md:5,children:Object(qe.jsx)("h3",{children:"All Posts"})}),Object(qe.jsx)(Ve.a,{md:5,children:Object(qe.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(qe.jsx)(jt,{type:"forums"}),o&&Object(qe.jsx)(Le.Link,{className:"btn btn-primary my-3 rounded ms-5",to:"/newpost",children:"New Post"})]})})]}),Object(qe.jsx)(ze.a,{className:"justify-content-md-center",children:Object(qe.jsx)(Ve.a,{md:10,children:l.map((function(e){return Object(qe.jsx)(kt,{post:e},e._id)}))})}),Object(qe.jsxs)(ze.a,{className:"justify-content-md-center",children:[Object(qe.jsx)(Ve.a,{md:5,children:j&&j>1&&Object(qe.jsxs)(Le.Link,{className:"btn btn-primary my-3 rounded",to:a?"/forums/search/".concat(a,"/page/").concat(j-1):"/forums/page/".concat(j-1),children:[Object(qe.jsx)("i",{className:"fas fa-long-arrow-alt-left"})," Previous"]})}),Object(qe.jsx)(Ve.a,{md:5,children:Object(qe.jsx)("div",{className:"d-flex justify-content-end",children:j&&j<u&&Object(qe.jsxs)(Le.Link,{className:"btn btn-primary my-3 rounded ms-auto",to:a?"/forums/search/".concat(a,"/page/").concat(j+1):"/forums/page/".concat(j+1),children:["Next ",Object(qe.jsx)("i",{className:"fas fa-long-arrow-alt-right"})]})})})]})]})})},wt=function(e){var t=e.history,a=Object(n.useState)(""),r=Object(Qe.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)(""),l=Object(Qe.a)(i,2),d=l[0],j=l[1],u=Object(n.useState)(!1),b=Object(Qe.a)(u,2),h=b[0],p=b[1],O=Object(s.b)(),x=Object(s.c)((function(e){return e.login})).userInfo,m=Object(s.c)((function(e){return e.postCreate})),g=m.success,f=m.error;Object(n.useEffect)((function(){x||t.push("/login"),g&&(O({type:oe}),t.push("/myposts"))}),[O,x,g,t]);return Object(qe.jsxs)(tt,{children:[Object(qe.jsx)("h2",{className:"text-center py-3",children:"New Post"}),f&&Object(qe.jsx)(nt,{variant:"danger",children:f}),Object(qe.jsx)(Xe.a,{className:"card",border:"primary",children:Object(qe.jsx)(Xe.a.Body,{children:Object(qe.jsxs)(Ze.a,{noValidate:!0,validated:h,onSubmit:function(e){var t;e.preventDefault(),!0===e.currentTarget.checkValidity()&&O((t={user:x._id,title:c,content:d},function(){var e=Object(Ue.a)(De.a.mark((function e(a,n){var r,c,s,o,i;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n(),c=r.login.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=5,Fe.a.post("/api/posts",t,s);case 5:o=e.sent,i=o.data,a({type:ce,payload:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:se,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}())),p(!0)},children:[Object(qe.jsxs)(Ze.a.Group,{controlId:"title",children:[Object(qe.jsx)(Ze.a.Label,{children:"Title"}),Object(qe.jsx)(Ze.a.Control,{type:"text",placeholder:"Enter title of this post",value:c,onChange:function(e){return o(e.target.value)},required:!0}),Object(qe.jsx)(Ze.a.Control.Feedback,{type:"invalid",children:"Title required."})]}),Object(qe.jsxs)(Ze.a.Group,{controlId:"content",className:"py-3",children:[Object(qe.jsx)(Ze.a.Label,{children:"Content"}),Object(qe.jsx)(Ze.a.Control,{as:"textarea",rows:"5",placeholder:"Enter content of this post",value:d,onChange:function(e){return j(e.target.value)},required:!0}),Object(qe.jsx)(Ze.a.Control.Feedback,{type:"invalid",children:"Content required."})]}),Object(qe.jsx)("div",{className:"d-grid gap-2",children:Object(qe.jsx)(et.a,{type:"submit",variant:"primary",children:"Create Post"})})]})})}),Object(qe.jsx)(ze.a,{className:"py-3 text-center",children:Object(qe.jsx)(Ve.a,{children:Object(qe.jsx)(Le.Link,{to:"/forums",children:"Go Back To Forums"})})})]})},At=function(e){var t=e.match,a=Object(n.useState)(""),r=Object(Qe.a)(a,2),c=r[0],o=r[1],i=t.params.id,l=Object(s.b)(),d=Object(s.c)((function(e){return e.login})).userInfo,j=Object(s.c)((function(e){return e.postDetail})),u=j.post,b=j.error,h=Object(s.c)((function(e){return e.postComment})),p=h.success,O=h.error;Object(n.useEffect)((function(){p&&(alert("Comment added."),o(""),l({type:Se})),u&&u.title||l(Et(i))}),[l,i,u,p]);var x=function(e){e.preventDefault(),l(function(e,t){return function(){var a=Object(Ue.a)(De.a.mark((function a(n,r){var c,s,o,i,l;return De.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=r(),s=c.login.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},a.next=5,Fe.a.post("/api/posts/".concat(e,"/comments"),t,o);case 5:i=a.sent,l=i.data,n({type:ve,payload:l}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),n({type:ye,payload:a.t0.response.data.message});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e,t){return a.apply(this,arguments)}}()}(t.params.id,{comment:c}))};return Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsx)(Le.Link,{className:"btn btn-primary my-3",to:"/forums",children:"Go Back"}),b?Object(qe.jsx)(nt,{variant:"danger",children:b}):Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsxs)(ze.a,{className:"justify-content-md-center",children:[Object(qe.jsx)("h2",{className:"text-center mb-5 post-title",children:u.title}),Object(qe.jsx)(Ve.a,{md:10,children:Object(qe.jsx)(Xe.a,{className:"my-3 px-1",border:"primary",children:Object(qe.jsx)(bt.a,{variant:"flush",children:Object(qe.jsx)(bt.a.Item,{className:"post-message",children:u.content})})})})]}),Object(qe.jsxs)(ze.a,{className:"justify-content-md-center mt-5",children:[O&&Object(qe.jsx)(nt,{variant:"danger",children:O}),Object(qe.jsx)(Ve.a,{md:10,children:Object(qe.jsx)(bt.a,{variant:"flush",children:d?Object(qe.jsxs)(Ze.a,{onSubmit:x,children:[Object(qe.jsxs)(Ze.a.Group,{controlId:"comment",children:[Object(qe.jsx)(Ze.a.Label,{children:Object(qe.jsx)("strong",{children:"Add Comment"})}),Object(qe.jsx)(Ze.a.Control,{as:"textarea",rows:"3",value:c,onChange:function(e){return o(e.target.value)},className:"rounded"})]}),Object(qe.jsx)(et.a,{type:"submit",variant:"primary",className:"rounded mt-2",children:"Submit"})]}):Object(qe.jsxs)(Ze.a,{onSubmit:x,children:[Object(qe.jsxs)(Ze.a.Group,{controlId:"comment",children:[Object(qe.jsx)(Ze.a.Label,{children:Object(qe.jsxs)("strong",{children:[Object(qe.jsx)(Le.Link,{to:"/login",children:"Login"})," to leave a comment"]})}),Object(qe.jsx)(Ze.a.Control,{as:"textarea",rows:"3",value:c,onChange:function(e){return o(e.target.value)},className:"rounded",disabled:!0})]}),Object(qe.jsx)(et.a,{type:"submit",variant:"primary",className:"rounded mt-2",disabled:!0,children:"Submit"})]})})})]}),Object(qe.jsx)(ze.a,{className:"justify-content-md-center mt-5",children:Object(qe.jsxs)(Ve.a,{md:10,children:[Object(qe.jsx)("strong",{children:"All Comments"}),Object(qe.jsx)(Xe.a,{className:"mt-2 px-1",border:"primary",children:Object(qe.jsx)(bt.a,{variant:"flush",children:u.comments&&u.comments.map((function(e){return Object(qe.jsxs)(bt.a.Item,{className:"py-3",children:[Object(qe.jsxs)(ze.a,{children:[Object(qe.jsx)(Ve.a,{md:10,children:Object(qe.jsx)("h5",{children:Object(qe.jsx)("strong",{children:e.username})})}),Object(qe.jsx)(Ve.a,{children:e.createdAt.substring(0,10)})]}),Object(qe.jsx)(ze.a,{className:"pt-3",children:Object(qe.jsx)(Ve.a,{children:e.comment})})]},e._id)}))})})]})})]})]})},_t=function(e){var t=e.history,a=Object(s.b)(),r=Object(s.c)((function(e){return e.login})).userInfo,c=Object(s.c)((function(e){return e.myPosts})),o=c.posts,i=c.error,l=Object(s.c)((function(e){return e.postDelete})).success;Object(n.useEffect)((function(){a({type:fe}),r?a(function(){var e=Object(Ue.a)(De.a.mark((function e(t,a){var n,r,c,s,o;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a(),r=n.login.userInfo,c={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=5,Fe.a.get("/api/posts/myposts",c);case 5:s=e.sent,o=s.data,t({type:me,payload:o}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:ge,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()):t.push("/login")}),[a,r,l,t]);var d=function(e){window.confirm("Are you sure you want to delete this post?")&&a(function(e){return function(){var t=Object(Ue.a)(De.a.mark((function t(a,n){var r,c,s;return De.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n(),c=r.login.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=5,Fe.a.delete("/api/posts/".concat(e),s);case 5:a({type:je}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:ue,payload:t.t0.response.data.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return Object(qe.jsx)(ze.a,{className:"justify-content-md-center",children:Object(qe.jsxs)(Ve.a,{md:10,children:[Object(qe.jsx)("h3",{children:"My Posts"}),o?i?Object(qe.jsx)(nt,{variant:"danger",children:i}):Object(qe.jsxs)(Ct.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(qe.jsx)("thead",{children:Object(qe.jsxs)("tr",{children:[Object(qe.jsx)("th",{children:"Title"}),Object(qe.jsx)("th",{children:"Date"}),Object(qe.jsx)("th",{children:"Manage"})]})}),Object(qe.jsx)("tbody",{children:o.map((function(e){return Object(qe.jsxs)("tr",{children:[Object(qe.jsx)("td",{children:Object(qe.jsx)(Le.Link,{to:"/posts/".concat(e._id),children:e.title})}),Object(qe.jsxs)("td",{children:[e.createdAt.split("T")[0].split("-")[1],"-",e.createdAt.split("T")[0].split("-")[2],"-",e.createdAt.split("T")[0].split("-")[0]]}),Object(qe.jsxs)("td",{children:[Object(qe.jsx)(Pe.LinkContainer,{to:"/posts/".concat(e._id,"/edit"),children:Object(qe.jsx)(et.a,{variant:"primary",className:"btn-sm",children:Object(qe.jsx)("i",{className:"fas fa-edit"})})}),Object(qe.jsx)(et.a,{variant:"danger",className:"btn-sm",onClick:function(){return d(e._id)},children:Object(qe.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]}):Object(qe.jsx)(qe.Fragment,{})]})})},Tt=function(e){var t=e.match,a=e.history,r=t.params.id,c=Object(n.useState)(""),o=Object(Qe.a)(c,2),i=o[0],l=o[1],d=Object(n.useState)(""),j=Object(Qe.a)(d,2),u=j[0],b=j[1],h=Object(n.useState)(!1),p=Object(Qe.a)(h,2),O=p[0],x=p[1],m=Object(n.useState)(!1),g=Object(Qe.a)(m,2),f=g[0],v=g[1],y=Object(s.b)(),S=Object(s.c)((function(e){return e.postDetail})),C=S.post,I=S.error,N=Object(s.c)((function(e){return e.postUpdate})),E=N.success,k=N.error;Object(n.useEffect)((function(){E?(y({type:de}),setTimeout((function(){a.push("/myposts")}),1e3)):r&&C._id===r?(l(C.title),b(C.content)):y(Et(r))}),[y,E,r,C,a]);return Object(qe.jsxs)(tt,{children:[Object(qe.jsx)("h2",{className:"text-center py-3",children:"Update Post"}),k&&Object(qe.jsx)(nt,{variant:"danger",children:k}),I?Object(qe.jsx)(nt,{variant:"danger",children:I}):Object(qe.jsxs)(qe.Fragment,{children:[O&&Object(qe.jsx)(nt,{variant:"success",children:"Post Updated"}),Object(qe.jsx)(Xe.a,{className:"card",border:"primary",children:Object(qe.jsx)(Xe.a.Body,{children:Object(qe.jsxs)(Ze.a,{noValidate:!0,validated:f,onSubmit:function(e){e.preventDefault(),!0===e.currentTarget.checkValidity()&&(y(function(e){return function(){var t=Object(Ue.a)(De.a.mark((function t(a,n){var r,c,s,o,i;return De.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n(),c=r.login.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=5,Fe.a.put("/api/posts/".concat(e._id),e,s);case 5:o=t.sent,i=o.data,a({type:ie}),a({type:pe,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:le,payload:t.t0.response.data.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}({_id:r,title:i,content:u})),x(!0)),v(!0)},children:[Object(qe.jsxs)(Ze.a.Group,{controlId:"title",children:[Object(qe.jsx)(Ze.a.Label,{children:"Title"}),Object(qe.jsx)(Ze.a.Control,{type:"text",placeholder:"Enter title of this post",value:i,onChange:function(e){return l(e.target.value)},required:!0}),Object(qe.jsx)(Ze.a.Control.Feedback,{type:"invalid",children:"Title required."})]}),Object(qe.jsxs)(Ze.a.Group,{controlId:"content",className:"py-3",children:[Object(qe.jsx)(Ze.a.Label,{children:"Content"}),Object(qe.jsx)(Ze.a.Control,{as:"textarea",rows:"5",placeholder:"Enter content of this post",value:u,onChange:function(e){return b(e.target.value)},required:!0}),Object(qe.jsx)(Ze.a.Control.Feedback,{type:"invalid",children:"Content required."})]}),Object(qe.jsx)("div",{className:"d-grid gap-2",children:Object(qe.jsx)(et.a,{type:"submit",variant:"primary",children:"Update Post"})})]})})})]}),Object(qe.jsx)(ze.a,{className:"py-3 text-center",children:Object(qe.jsx)(Ve.a,{children:Object(qe.jsx)(Le.Link,{to:"/myposts",children:"Go Back To My Posts"})})})]})},Pt=function(){var e=Object(n.useState)(""),t=Object(Qe.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(Qe.a)(c,2),i=o[0],l=o[1],d=Object(s.b)(),j=Object(s.c)((function(e){return e.collegeList})),u=j.colleges,b=j.error,h=Object(s.c)((function(e){return e.collegeByName})),p=h.college,O=h.error,x=Object(s.c)((function(e){return e.userBackground})),m=x.user,g=x.error,f=Object(s.c)((function(e){return e.admissionPercentage})),v=f.percentage,y=f.error;Object(n.useEffect)((function(){d(lt()),d(Me())}),[d]);return Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsxs)(tt,{children:[Object(qe.jsx)("h2",{className:"text-center py-3",children:"Select a School and See the Admission Percentage Based on Your Background"}),b&&Object(qe.jsx)(nt,{variant:"danger",children:b}),O&&Object(qe.jsx)(nt,{variant:"danger",children:O}),g&&Object(qe.jsx)(nt,{variant:"danger",children:g}),y&&Object(qe.jsx)(nt,{variant:"danger",children:y}),i&&Object(qe.jsx)(nt,{variant:"danger",children:i}),Object(qe.jsx)(Xe.a,{className:"card",border:"primary",children:Object(qe.jsx)(Xe.a.Body,{children:Object(qe.jsxs)(Ze.a,{onSubmit:function(e){e.preventDefault(),"High School"!==m.schoolLevel||m.gpa&&m.langScore?"Undergraduate"!==m.schoolLevel&&"Graduate"!==m.schoolLevel||m.gpa&&m.langScore&&m.genScore?a?(d(function(e){return function(){var t=Object(Ue.a)(De.a.mark((function t(a,n){var r,c,s,o,i;return De.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n(),c=r.login.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=5,Fe.a.post("/api/colleges/name",e,s);case 5:o=t.sent,i=o.data,a({type:T,payload:i}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:P,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}()}({collegeName:a})),d({type:re}),d(function(e){return function(){var t=Object(Ue.a)(De.a.mark((function t(a,n){var r,c,s,o,i;return De.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n(),c=r.login.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=5,Fe.a.post("/api/admissions/percentage",e,s);case 5:o=t.sent,i=o.data,a({type:ae,payload:i}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:ne,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}()}({collegeName:a}))):l("Please select a college"):l("Please enter GPA and Language Test Score and General Test Score in My Background"):l("Please enter GPA and Language Test Score in My Background")},children:[Object(qe.jsxs)(Ze.a.Group,{controlId:"school",className:"py-3",children:[Object(qe.jsx)(Ze.a.Label,{children:"Select a School you want to apply"}),Object(qe.jsxs)(Ze.a.Control,{as:"select",className:"form-select rounded",value:a||"",onChange:function(e){return r(e.target.value)},children:[Object(qe.jsx)("option",{value:"",children:"Choose..."}),u.map((function(e){return Object(qe.jsx)("option",{value:e.name,children:e.name},e.name)}))]})]}),Object(qe.jsx)("div",{className:"d-grid gap-2",children:Object(qe.jsx)(et.a,{type:"submit",variant:"primary",children:"View Percentage"})})]})})})]}),p&&p._id&&Object(qe.jsxs)("div",{className:"mt-5",children:[v.percentage?Object(qe.jsx)(ze.a,{className:"justify-content-md-center",children:Object(qe.jsx)(Ve.a,{md:10,children:Object(qe.jsx)(Xe.a,{className:"mb-2 p-3 rounded",children:Object(qe.jsx)("strong",{children:"Based on your academic background, ".concat(v.percentage,"% of the students who have similar academic backgrounds have been admitted by ").concat(p.name,".")})})})}):Object(qe.jsx)(ze.a,{className:"justify-content-md-center",children:Object(qe.jsx)(Ve.a,{md:10,children:Object(qe.jsx)(Xe.a,{className:"mb-2 p-3 rounded",children:Object(qe.jsx)("strong",{children:"Based on your academic background, ...% of the students who have similar academic backgrounds have been admitted by ".concat(p.name,".")})})})}),Object(qe.jsx)(ze.a,{className:"justify-content-md-center",children:Object(qe.jsx)(Ve.a,{md:10,children:Object(qe.jsx)(dt,{college:p},p._id)})})]})]})},Gt=function(){return Object(qe.jsxs)(Le.BrowserRouter,{children:[Object(qe.jsx)(Ye,{}),Object(qe.jsx)("main",{className:"py-3",children:Object(qe.jsxs)(ke.a,{children:[Object(qe.jsx)(we.d,{path:"/",component:$e,exact:!0}),Object(qe.jsx)(we.d,{path:"/login",component:rt}),Object(qe.jsx)(we.d,{path:"/register",component:ct}),Object(qe.jsx)(we.d,{path:"/profile",component:st}),Object(qe.jsx)(we.d,{path:"/changepassword",component:ot}),Object(qe.jsx)(we.d,{path:"/background",component:it}),Object(qe.jsx)(we.d,{path:"/colleges",component:ut,exact:!0}),Object(qe.jsx)(we.d,{path:"/colleges/search/:keyword",component:ut,exact:!0}),Object(qe.jsx)(we.d,{path:"/colleges/:id",component:mt,exact:!0}),Object(qe.jsx)(we.d,{path:"/admissions",component:vt,exact:!0}),Object(qe.jsx)(we.d,{path:"/admissions/search/:keyword",component:vt,exact:!0}),Object(qe.jsx)(we.d,{path:"/admissions/page/:pageNum",component:vt,exact:!0}),Object(qe.jsx)(we.d,{path:"/admissions/search/:keyword/page/:pageNum",component:vt,exact:!0}),Object(qe.jsx)(we.d,{path:"/admissions/:id",component:St,exact:!0}),Object(qe.jsx)(we.d,{path:"/admissions/:id/edit",component:Nt,exact:!0}),Object(qe.jsx)(we.d,{path:"/newadmission",component:yt}),Object(qe.jsx)(we.d,{path:"/myadmissions",component:It}),Object(qe.jsx)(we.d,{path:"/forums",component:Lt,exact:!0}),Object(qe.jsx)(we.d,{path:"/forums/search/:keyword",component:Lt,exact:!0}),Object(qe.jsx)(we.d,{path:"/forums/page/:pageNum",component:Lt,exact:!0}),Object(qe.jsx)(we.d,{path:"/forums/search/:keyword/page/:pageNum",component:Lt,exact:!0}),Object(qe.jsx)(we.d,{path:"/posts/:id",component:At,exact:!0}),Object(qe.jsx)(we.d,{path:"/posts/:id/edit",component:Tt,exact:!0}),Object(qe.jsx)(we.d,{path:"/newpost",component:wt}),Object(qe.jsx)(we.d,{path:"/myposts",component:_t}),Object(qe.jsx)(we.d,{path:"/calculator",component:Pt})]})}),Object(qe.jsx)(We,{})]})};a(106);c.a.render(Object(qe.jsx)(s.a,{store:Ee,children:Object(qe.jsx)(Gt,{})}),document.getElementById("root"))},79:function(e,t,a){},80:function(e,t,a){}},[[107,1,2]]]);
//# sourceMappingURL=main.4bb39d64.chunk.js.map